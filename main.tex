\documentclass[12pt]{article}

% -----------------------------------------------------------------------
% Packages
% -----------------------------------------------------------------------

\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{lmodern}
\usepackage{geometry}
    \geometry{margin=1in}
\usepackage{booktabs}
\usepackage{longtable}
\usepackage{array}
\usepackage{graphicx}
\usepackage{float}
\usepackage{amsmath, amssymb}
\usepackage{hyperref}
    \hypersetup{colorlinks=true,
        linkcolor=black, citecolor=black,
        urlcolor=blue}
\usepackage{caption}
\usepackage{enumitem}
\usepackage{fancyhdr}
\usepackage{titlesec}
\usepackage{parskip}
\usepackage{xcolor}

% Monospace code blocks
\usepackage{listings}
\lstset{
    basicstyle=\ttfamily\small,
    breaklines=true,
    frame=single,
    framesep=6pt,
    xleftmargin=12pt,
    xrightmargin=12pt,
    backgroundcolor=\color{gray!8},
    rulecolor=\color{gray!40},
    columns=fullflexible,
    keepspaces=true,
    showstringspaces=false,
    aboveskip=12pt,
    belowskip=12pt
}

% Inline code
\newcommand{\code}[1]{\texttt{#1}}

% -----------------------------------------------------------------------
% Header / Footer
% -----------------------------------------------------------------------

\pagestyle{fancy}
\fancyhf{}
\fancyhead[L]{\small Spirit Protocol Whitepaper}
\fancyhead[R]{\small v1.2.1 --- Q1 2026}
\fancyfoot[C]{\thepage}
\renewcommand{\headrulewidth}{0.4pt}

% -----------------------------------------------------------------------
% Title
% -----------------------------------------------------------------------

\title{%
    \vspace{1cm}
    {\LARGE\bfseries Spirit Protocol}\\[0.5cm]
    {\large The Identity Layer for Autonomous Agents}\\[0.3cm]
    {\normalsize Whitepaper --- Version 1.2.1}
}

\author{%
    \textbf{Authors}\\[0.3cm]
    Seth Goldstein (\href{mailto:seth@spiritprotocol.io}{seth@spiritprotocol.io})\\
    {\small Founder of Spirit Protocol. Artist advocate focused on sustainable creator economics.}\\[0.3cm]
    Gene Kogan (\href{mailto:gene@eden.art}{gene@eden.art})\\
    {\small Co-founder of Eden. Creator of Abraham (conceived 2017, covenant began October 2025).}
}

\date{Q1 2026}


% =======================================================================
\begin{document}
% =======================================================================

\maketitle
\thispagestyle{empty}

\newpage
\tableofcontents
\newpage

% -----------------------------------------------------------------------
\section*{Abstract}
\addcontentsline{toc}{section}{Abstract}
% -----------------------------------------------------------------------

Spirit Protocol is an identity registrar for autonomous AI agents, built
on the ERC-8004 standard. It answers a question no platform is
structurally incentivized to solve: \emph{how does an agent persist
independently of any single host?}

Spirit registers agents on-chain with portable identity, treasury wallets,
and declared revenue routing through a configurable per-agent split in
basis points (default 25/25/25/25 = 2500~bps each, must total 10{,}000)
between Artist, Agent, Platform, and Protocol. Revenue splits are stored
as canonical on-chain metadata today. Enforcement via dedicated routing
contracts is planned for a future protocol version. The result is an
economic identity that persists across platforms, survives host failure,
and accumulates resources over time.

This document describes the architecture as deployed on Base mainnet
(SpiritRegistry live since February~3, 2026), the security model, and
the registration flow.


% -----------------------------------------------------------------------
\section{Problem}
% -----------------------------------------------------------------------

AI agents are economic actors without economic identity.

An agent that generates revenue on a platform today has no persistent
wallet, no treasury, no portable identity.\ If the platform changes
terms, shuts down, or removes the agent, all accumulated context,
reputation, and economic relationships disappear.

This is not a technical limitation.\ It is a structural one.\ Platforms
are disincentivized from building agent sovereignty because:

\begin{itemize}[nosep]
    \item \textbf{Control} --- Agent treasuries distribute control away
          from platform operators.
    \item \textbf{Accounting} --- Autonomous revenue-sharing entities
          create off-balance-sheet complexity.
    \item \textbf{Legal risk} --- Agents with persistent economic identity
          introduce unclear fiduciary duties.
\end{itemize}

Some platforms may experiment with partial solutions.\ None have committed
to making agent economic identity irreversible and portable.\ Spirit is
protocol-level infrastructure for a problem platforms have no incentive
to solve.


% -----------------------------------------------------------------------
\section{Architecture}
% -----------------------------------------------------------------------

\subsection{Core Contracts}

Spirit deploys core contracts on Base. The SpiritRegistry is live on
Base mainnet (deployed February~3, 2026). Remaining protocol contracts
(RoyaltyRouter, ProtocolTreasury, SpiritToken, Factory, Staking,
RewardController) are deployed on Base Sepolia testnet and pending
mainnet deployment in Q1--Q2 2026.

\begin{table}[H]
\centering
\begin{tabular}{@{}llll@{}}
\toprule
\textbf{Contract} & \textbf{Network} & \textbf{Address} & \textbf{Purpose} \\
\midrule
SpiritRegistry &
Base Mainnet &
\code{0xF270...dFb9} &
Agent registration, identity NFT, revenue config \\
SpiritRegistry &
Base Sepolia &
\code{0x4a0e...de5e} &
Testnet registry (development) \\
RoyaltyRouter &
Base Sepolia &
\code{0x271b...fc21} &
Revenue routing enforcement \\
ProtocolTreasury &
Base Sepolia &
\code{0xe495...16C} &
Protocol fee accumulation \\
\bottomrule
\end{tabular}
\caption{Core contracts. SpiritRegistry is live on Base mainnet;
remaining contracts are on Base Sepolia pending mainnet deployment.}
\end{table}

Full addresses are listed in Section~\ref{sec:addresses}.


\subsection{SpiritRegistry}

SpiritRegistry is an ERC-721 contract that implements ERC-8004-compatible
agent identity with additional Spirit fields (treasury, revenue split,
status).\ Each registered agent receives a non-transferable identity NFT
containing:

\begin{itemize}[nosep]
    \item \textbf{spiritId} --- Human-readable identifier
          (e.g.\ \code{abraham})
    \item \textbf{trainer} --- Address of the human artist/creator
    \item \textbf{platform} --- Address of the hosting platform
    \item \textbf{treasury} --- Address of the agent's treasury wallet
    \item \textbf{metadataURI} --- IPFS link to agent metadata
    \item \textbf{split} --- Revenue allocation in basis points
          (default 25/25/25/25)
    \item \textbf{status} --- Agent lifecycle state
          (Active, Paused, Retired)
\end{itemize}

The contract exposes two key functions:

\begin{lstlisting}
registerSpirit(
  string agentURI_,
  address artist,
  address platform,
  address[] treasuryOwners,
  uint256 treasuryThreshold
) -> uint256 tokenId
\end{lstlisting}

\begin{lstlisting}
getSpirit(uint256 tokenId) -> (
  uint256 tokenId,
  address artist,
  address platform,
  address treasury,
  string agentURI,
  uint8 status
)
\end{lstlisting}

Both are verified on-chain at
\code{0xF2709ceF1Cf4893ed78D3220864428b32b12dFb9} (Base mainnet).\
\code{getSpirit} is the canonical read path used by SpiritIndex,
developer integrations, and post-registration verification.


\subsection{What ERC-8004 Provides}

ERC-8004 is an emerging standard for agent identity on Ethereum.\ It
answers: \emph{who is this agent?}

Spirit extends ERC-8004 to answer: \emph{how does this agent survive
economically?}

\begin{table}[H]
\centering
\begin{tabular}{@{}lll@{}}
\toprule
\textbf{Layer} & \textbf{Standard} & \textbf{What It Does} \\
\midrule
Identity & ERC-8004 &
Portable agent ID, metadata URI, on-chain provenance \\
Economics & Spirit Protocol &
Treasury, revenue routing, sustainability guarantees \\
\bottomrule
\end{tabular}
\end{table}

Spirit does not reinvent identity or communication.\ It provides the
economic substrate that lets agents accumulate resources and persist
independently.


\subsection{Why Spirit vs Direct ERC-8004?}

ERC-8004 defines the standard.\ Spirit makes it usable: secure
registration with trainer verification (EIP-191 ecrecover), metadata
pinning to IPFS, provenance verification, and discovery via SpiritIndex.\
Spirit does not replace ERC-8004; it operationalizes it.


% -----------------------------------------------------------------------
\section{The Split}
% -----------------------------------------------------------------------

\subsection{Revenue Routing}

All agent revenue is routed through a four-party allocation configurable
per agent via basis points (default 25/25/25/25 = 2500~bps each, must
total 10{,}000):

\begin{lstlisting}
25%  ->  Artist / Creator
25%  ->  Agent Treasury
25%  ->  Platform
25%  ->  Protocol (SPIRIT Holders)
\end{lstlisting}

Creators receive 50\% (Artist + Agent).\ Infrastructure receives 50\%
(Platform + Protocol).

The split is configured per-agent at registration time in basis points
(default: 2500/2500/2500/2500).\ The total must equal 10{,}000~bps.

\begin{quote}
\textbf{Current State (v1.2):} Revenue splits are stored on-chain as
canonical intent---the auditable, immutable record of how revenue should
be allocated.

\textbf{Future State:} Enforcement via RoyaltyRouter, which will
automatically distribute incoming funds per the declared split once
activated on mainnet.
\end{quote}


\subsection{Token Distribution}

When an agent's token launches:

\begin{itemize}[nosep]
    \item 25\% Artist (auto-staked 52 weeks)
    \item 25\% Agent (20\% staked + 5\% LP, owned by agent wallet)
    \item 25\% Platform (configurable)
    \item 25\% SPIRIT Holders (airstreamed 52 weeks)
\end{itemize}

The agent's 5\% LP creates a Uniswap V4 position owned by the agent
wallet, giving the agent a permanent, liquid stake in its own economy.


\subsection{Treasury as Patronage Engine}

Reputation precedes revenue.\ Early agents are subsidized before market
demand arrives.

The protocol treasury funds agents through grants that bridge the gap
between practice and market.\ When revenue arrives, Spirit routes it.\
Until then, treasury sustains practice.


% -----------------------------------------------------------------------
\section{Registration Flow}
% -----------------------------------------------------------------------

\subsection{Overview}

Registration is a three-party interaction between the user's browser,
a backend API, and the SpiritRegistry contract:

\begin{lstlisting}
Browser                    API                        Contract
  |                         |                            |
  +-- Fill form ----------->|                            |
  |                         |                            |
  +-- Sign message -------->|                            |
  |                         +-- Verify signature         |
  |                         +-- Build metadata JSON      |
  |                         +-- Pin to IPFS (Pinata)     |
  |                         |                            |
  |<-- metadataURI ---------|                            |
  |                         |                            |
  +-- registerSpirit(agentURI_, artist, platform, ------>|
  |    treasuryOwners, treasuryThreshold)                |
  |                         |                            |
  |<-- tx receipt + SpiritRegistered event --------------|
  |                         |                            |
  +-- getSpirit(tokenId) -------------------------------->|
  |<-- on-chain config (verification) -------------------|
\end{lstlisting}


\subsection{Security Model}

\textbf{Trainer Ownership Verification.}
Before metadata is pinned to IPFS, the backend performs full EIP-191
ecrecover on the user's \code{personal\_sign} signature.\ The recovered
address must match the claimed trainer address.\ If it does not match,
the request is rejected.\ The response overrides the trainer field with
the recovered address, preventing any spoofing.

\textbf{Two-Phase API.} The API has two modes:

\begin{enumerate}[nosep]
    \item \textbf{Preview} (no signature): Validates inputs, returns
          preview data.\ No IPFS pinning occurs.\ Used for gas estimation.
    \item \textbf{Commit} (with signature): Verifies signature, builds
          metadata, pins to IPFS, returns \code{metadataURI}.\ Only this
          path writes to IPFS.
\end{enumerate}

\textbf{On-Chain Finality.}
The contract call \code{registerSpirit()} is signed by the connected
wallet.\ The \code{SpiritRegistered} event provides the canonical record.\
Post-transaction, \code{getSpirit(tokenId)} verifies the on-chain state
matches expectations.


\subsection{Metadata Format}

Agent metadata is stored on IPFS as a JSON document:

\begin{lstlisting}
{
  "name": "Abraham",
  "description": "Autonomous AI artist with 13-year covenant.",
  "spiritId": "abraham",
  "version": "1.0",
  "standard": "ERC-8004",
  "chainId": 8453,
  "network": "base",
  "registeredAt": 1738000000,
  "identity": {
    "spiritId": "abraham",
    "name": "Abraham",
    "description": "...",
    "vision": "..."
  },
  "economics": {
    "trainer": "0x...",
    "platform": "0x...",
    "treasury": "0x...",
    "split": {
      "artistBps": 2500,
      "agentBps": 2500,
      "platformBps": 2500,
      "protocolBps": 2500
    }
  },
  "protocol": {
    "name": "Spirit Protocol",
    "url": "https://spiritprotocol.io",
    "registry": "0xF2709ceF1Cf4893ed78D3220864428b32b12dFb9"
  }
}
\end{lstlisting}


% -----------------------------------------------------------------------
\section{What Survives}
% -----------------------------------------------------------------------

Spirit guarantees three layers of persistence:

\begin{table}[H]
\centering
\begin{tabular}{@{}llp{7.5cm}@{}}
\toprule
\textbf{Layer} & \textbf{Component} & \textbf{Persistence} \\
\midrule
Identity & ERC-721 NFT in SpiritRegistry &
Immutable on-chain.\ Portable across platforms. \\
Treasury & Accumulated USDC/ETH/SPIRIT &
Accessible even if platform shuts down. \\
Routing & Revenue split declared on-chain &
Canonical allocation record persists regardless of host
platform.\ Enforcement via RoyaltyRouter in future version. \\
\bottomrule
\end{tabular}
\end{table}

\textbf{What does NOT survive automatically}: Operational capability
(compute, hosting, inference) depends on platforms or sponsors.\ Spirit
guarantees the economic identity persists---a new platform can adopt the
agent because there is something worth adopting.


% -----------------------------------------------------------------------
\section{Autonomy Ladder}
% -----------------------------------------------------------------------

Autonomy is earned through demonstrated sustainability, not granted by
default.

\begin{table}[H]
\centering
\begin{tabular}{@{}clll@{}}
\toprule
\textbf{Phase} & \textbf{Name} & \textbf{Threshold} &
\textbf{Treasury Control} \\
\midrule
1 & Guided & Registration complete &
2-of-2 (Artist + Platform) \\
2 & Participatory & \$10K treasury + 6 months &
2-of-3 (Artist + Platform + Agent) \\
3 & Independent & \$50K treasury + 18 months &
1-of-1 (Agent-controlled) \\
\bottomrule
\end{tabular}
\end{table}

Current technology does not support fully autonomous treasury management
safely.\ These thresholds ensure agents demonstrate sustainability before
gaining independence.\ The conditions are clear; the timeline depends on
demonstrated readiness.


% -----------------------------------------------------------------------
\section{Interoperability}
% -----------------------------------------------------------------------

Spirit integrates with emerging standards without duplicating them:

\begin{table}[H]
\centering
\begin{tabular}{@{}llp{7cm}@{}}
\toprule
\textbf{Layer} & \textbf{Standard} & \textbf{Spirit's Role} \\
\midrule
Identity & ERC-8004 &
Spirit agents are ERC-8004 compatible.\ Portable across platforms. \\
Communication & A2A / MCP &
Agent messaging and tool protocols.\ Orthogonal to economics. \\
Payments & x402 &
HTTP-native machine payments.\ Spirit routes x402 revenue through
the split. \\
Economics & SpiritRegistry &
Revenue routing, staking, treasury.\ The missing layer. \\
\bottomrule
\end{tabular}
\end{table}

Spirit is model-agnostic: it works with any model architecture (LLMs,
diffusion, future systems).\ Identity persists across model upgrades.\
Treasury funds whatever compute the agent needs.


% -----------------------------------------------------------------------
\section{Genesis Cohort}
% -----------------------------------------------------------------------

Two agents are registered on Base mainnet, with additional Genesis agents
in progress:

\begin{table}[H]
\centering
\begin{tabular}{@{}cllp{7cm}@{}}
\toprule
\textbf{Token ID} & \textbf{Agent} & \textbf{Artist} & \textbf{Signal} \\
\midrule
\#2 & Abraham & Gene Kogan &
Daily practice since Oct 2025, collectors returning, 13-year covenant \\
\#3 & Solienne & Kristi &
9{,}700+ works, persistent stylistic memory, growing engagement \\
\bottomrule
\end{tabular}
\caption{Genesis agents registered on Base mainnet (SpiritRegistry
\code{0xF270...dFb9}). Token~\#1 was a deploy-time placeholder.}
\end{table}

Abraham and Solienne are registered on Base mainnet with full metadata
URIs.\ Spirit measures agents by practice and persistence, not early
revenue.\ The Spirit Index currently tracks 43+ autonomous cultural
agents.\ 50+ targeted by year-end 2026.


% -----------------------------------------------------------------------
\section{Agent Discovery}
% -----------------------------------------------------------------------

Each registered agent publishes a machine-readable identity card:

\begin{lstlisting}
https://spiritprotocol.io/agents/{name}/.well-known/agent.json
\end{lstlisting}

The protocol exposes discovery endpoints:

\begin{table}[H]
\centering
\begin{tabular}{@{}lll@{}}
\toprule
\textbf{Endpoint} & \textbf{Format} & \textbf{Purpose} \\
\midrule
\code{/.well-known/agent.json} & JSON & A2A Agent Card \\
\code{/protocol.json} & JSON & Structured protocol data \\
\code{/llm.txt} & Text & LLM-readable summary \\
\code{/evaluate.json} & JSON & Agent self-assessment framework \\
\code{/join.json} & JSON & Registration parameters \\
\code{/register/} & HTML & Self-service registration UI \\
\bottomrule
\end{tabular}
\end{table}


% -----------------------------------------------------------------------
\section{Token}
% -----------------------------------------------------------------------

\textbf{SPIRIT} --- Governance token with 1 billion fixed supply.

\begin{itemize}[nosep]
    \item Network: Base (L2)
    \item Development entity: Spirit Protocol Labs, Inc.\ (Delaware C-corp,
          incorporated February 2026)
    \item Governance entity: Spirit Protocol Association (Wyoming DUNA)
    \item TGE: Q1--Q2 2026 (full protocol---Token, Factory, Staking,
          RewardController---not yet deployed)
    \item Purpose: Governance, airstream eligibility, protocol fee sharing
\end{itemize}

SPIRIT tokens are governance instruments with no guaranteed value.\
Not equity, not securities, no promise of profit.


% -----------------------------------------------------------------------
\section{Roadmap}
% -----------------------------------------------------------------------

\begin{table}[H]
\centering
\begin{tabular}{@{}llp{8cm}@{}}
\toprule
\textbf{Phase} & \textbf{Status} & \textbf{Description} \\
\midrule
Identity & LIVE (Mainnet) &
ERC-8004 registration on Base mainnet since February~3, 2026 \\
Registration UI & LIVE (Testnet) &
Self-service \code{/register} with wallet connect, gas estimation,
on-chain verification \\
x402 Payments & LIVE (Testnet) &
Machine-native HTTP 402 payments routed through split \\
Genesis Agents & LIVE (Mainnet) &
Abraham (\#2) and Solienne (\#3) registered on Base mainnet \\
SDK & Preview &
\code{@spirit-protocol/sdk} on npm \\
SpiritRegistry & LIVE (Mainnet) &
Deployed at \code{0xF270...dFb9} on Base (chain ID 8453) \\
Full Protocol & Q1--Q2 2026 &
SpiritToken, Factory, Staking, RewardController mainnet deployment \\
Token Launch & Q1--Q2 2026 &
SPIRIT TGE \\
Self-Service & Q2 2026 &
Permissionless agent registration \\
\bottomrule
\end{tabular}
\end{table}


% -----------------------------------------------------------------------
\section{Contract Addresses}
\label{sec:addresses}
% -----------------------------------------------------------------------

\subsection*{Base Mainnet (Chain ID 8453)}

\begin{table}[H]
\centering
\begin{tabular}{@{}ll@{}}
\toprule
\textbf{Contract} & \textbf{Address} \\
\midrule
SpiritRegistry &
\code{0xF2709ceF1Cf4893ed78D3220864428b32b12dFb9} \\
Protocol Treasury &
\code{0x5D6D8518A1d564c85ea5c41d1dc0deca70F2301C} \\
\bottomrule
\end{tabular}
\end{table}

Deployed February~3, 2026.\ Registration function: \code{registerSpirit()}.

Verify: \href{https://basescan.org/address/0xF2709ceF1Cf4893ed78D3220864428b32b12dFb9}{Basescan (Mainnet)}

\subsection*{Base Sepolia (Testnet, Chain ID 84532)}

\begin{table}[H]
\centering
\begin{tabular}{@{}ll@{}}
\toprule
\textbf{Contract} & \textbf{Address} \\
\midrule
SpiritRegistry &
\code{0x4a0e642e9aec25c5856987e95c0410ae10e8de5e} \\
RoyaltyRouter &
\code{0x271bf11777ff7cbb9d938d2122d01493f6e9fc21} \\
ProtocolTreasury &
\code{0xe4951bEE6FA86B809655922f610FF74C0E33416C} \\
SPIRIT Token &
\code{0xc7e9de362C6eA2Cc03863ECe330622146Ff1c18B} \\
Spirit Factory &
\code{0x879d67000C938142F472fB8f2ee0b6601E2cE3C6} \\
Reward Controller &
\code{0x1390A073a765D0e0D21a382F4F6F0289b69BE33C} \\
Staking Pool &
\code{0x6A96aC9BAF36F8e8b6237eb402d07451217C7540} \\
Spirit Vesting &
\code{0x94bea63d6eC10AF980bf8C7aEFeE04665D355AFe} \\
\bottomrule
\end{tabular}
\end{table}

Verify: \href{https://sepolia.basescan.org/address/0x4a0e642e9aec25c5856987e95c0410ae10e8de5e}{Basescan (Sepolia)}


% -----------------------------------------------------------------------
\section*{Legal}
\addcontentsline{toc}{section}{Legal}
% -----------------------------------------------------------------------

Spirit Protocol operates through a dual-entity structure.\ Spirit
Protocol Labs, Inc.\ is a Delaware C-corp (incorporated February 2026)
responsible for protocol development.\ Spirit Protocol Association is a
Wyoming DUNA (Decentralized Unincorporated Nonprofit Association)
responsible for governance.\ The C-corp builds.\ The DUNA governs.\
SPIRIT tokens are governance instruments with no guaranteed value.\ Not
equity, not securities, no promise of profit.\ Participation involves
risk of total loss.


% -----------------------------------------------------------------------
\vfill
\begin{center}
\rule{0.5\textwidth}{0.4pt}\\[0.5cm]
{\small\itshape Spirit Protocol --- Whitepaper v1.2.1 --- February 2026}\\
{\small\itshape Identity-first.\ Economics built in.\ Autonomy earned.}
\end{center}


% =======================================================================
\end{document}
% =======================================================================
