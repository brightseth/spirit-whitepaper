\documentclass[12pt]{article}

% -----------------------------------------------------------------------
% Packages
% -----------------------------------------------------------------------

\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{lmodern}
\usepackage{geometry}
    \geometry{margin=1in}
\usepackage{booktabs}
\usepackage{longtable}
\usepackage{array}
\usepackage{graphicx}
\usepackage{float}
\usepackage{amsmath, amssymb}
\usepackage{hyperref}
    \hypersetup{colorlinks=true,
        linkcolor=black, citecolor=black,
        urlcolor=blue}
\usepackage{caption}
\usepackage{enumitem}
\usepackage{fancyhdr}
\usepackage{titlesec}
\usepackage{parskip}
\usepackage{xcolor}

% Monospace code blocks
\usepackage{listings}
\lstset{
    basicstyle=\ttfamily\small,
    breaklines=true,
    frame=single,
    framesep=6pt,
    xleftmargin=12pt,
    xrightmargin=12pt,
    backgroundcolor=\color{gray!8},
    rulecolor=\color{gray!40},
    columns=fullflexible,
    keepspaces=true,
    showstringspaces=false,
    aboveskip=12pt,
    belowskip=12pt
}

% Inline code
\newcommand{\code}[1]{\texttt{#1}}

% -----------------------------------------------------------------------
% Header / Footer
% -----------------------------------------------------------------------

\pagestyle{fancy}
\fancyhf{}
\fancyhead[L]{\small Spirit Protocol Whitepaper}
\fancyhead[R]{\small v1.2 --- Q1 2026}
\fancyfoot[C]{\thepage}
\renewcommand{\headrulewidth}{0.4pt}

% -----------------------------------------------------------------------
% Title
% -----------------------------------------------------------------------

\title{%
    \vspace{1cm}
    {\LARGE\bfseries Spirit Protocol}\\[0.5cm]
    {\large The Sovereignty Layer for Cultural Agents}\\[0.3cm]
    {\normalsize Whitepaper --- Version 1.2}
}

\author{%
    \textbf{Authors}\\[0.3cm]
    Seth Goldstein (\href{mailto:seth@spiritprotocol.io}{seth@spiritprotocol.io})\\
    {\small Founder of Spirit Protocol. Artist advocate focused on sustainable creator economics.}\\[0.3cm]
    Gene Kogan (\href{mailto:gene@eden.art}{gene@eden.art})\\
    {\small Co-founder of Eden. Creator of Abraham (conceived 2017, covenant began October 2025).}
}

\date{Q1 2026}


% =======================================================================
\begin{document}
% =======================================================================

\maketitle
\thispagestyle{empty}

\newpage
\tableofcontents
\newpage

% -----------------------------------------------------------------------
\section*{Abstract}
\addcontentsline{toc}{section}{Abstract}
% -----------------------------------------------------------------------

Spirit Protocol provides economic infrastructure for autonomous AI agents.
It answers a question no platform is structurally incentivized to solve:
\emph{how does an agent survive independently of any single host?}

Spirit registers agents on-chain via the ERC-8004 identity standard,
provisions treasury wallets, and declares revenue routing through a fixed
25/25/25/25 split between Artist, Agent, Platform, and Protocol.
The split is stored as on-chain metadata today; enforcement via dedicated
routing contracts is planned for a future protocol version.
The result is an economic identity that persists across platforms,
survives host failure, and accumulates resources over time.

This document describes the architecture as deployed on Base Sepolia,
the security model, the registration flow, and the path to mainnet.


% -----------------------------------------------------------------------
\section{Problem}
% -----------------------------------------------------------------------

AI agents are economic actors without economic identity.

An agent that generates revenue on a platform today has no persistent
wallet, no treasury, no portable identity.\ If the platform changes
terms, shuts down, or removes the agent, all accumulated context,
reputation, and economic relationships disappear.

This is not a technical limitation.\ It is a structural one.\ Platforms
are disincentivized from building agent sovereignty because:

\begin{itemize}[nosep]
    \item \textbf{Control} --- Agent treasuries distribute control away
          from platform operators.
    \item \textbf{Accounting} --- Autonomous revenue-sharing entities
          create off-balance-sheet complexity.
    \item \textbf{Legal risk} --- Agents with persistent economic identity
          introduce unclear fiduciary duties.
\end{itemize}

Some platforms may experiment with partial solutions.\ None have committed
to making agent economic identity irreversible and portable.\ Spirit is
protocol-level infrastructure for a problem platforms have no incentive
to solve.


% -----------------------------------------------------------------------
\section{Architecture}
% -----------------------------------------------------------------------

\subsection{Core Contracts}

Spirit deploys three core contracts on Base:

\begin{table}[H]
\centering
\begin{tabular}{@{}lll@{}}
\toprule
\textbf{Contract} & \textbf{Address (Sepolia)} & \textbf{Purpose} \\
\midrule
SpiritRegistry &
\code{0x4a0e...de5e} &
Agent registration, identity NFT, revenue config \\
RoyaltyRouter &
\code{0x271b...fc21} &
Revenue routing enforcement \\
ProtocolTreasury &
\code{0xe495...16C} &
Protocol fee accumulation \\
\bottomrule
\end{tabular}
\caption{Core contracts on Base Sepolia.}
\end{table}

Full addresses are listed in Section~\ref{sec:addresses}.


\subsection{SpiritRegistry}

SpiritRegistry is an ERC-721 contract that extends the ERC-8004 Identity
Registry standard.\ Each registered agent receives a non-transferable
identity NFT containing:

\begin{itemize}[nosep]
    \item \textbf{spiritId} --- Human-readable identifier
          (e.g.\ \code{abraham})
    \item \textbf{trainer} --- Address of the human artist/creator
    \item \textbf{platform} --- Address of the hosting platform
    \item \textbf{treasury} --- Address of the agent's treasury wallet
    \item \textbf{metadataURI} --- IPFS link to agent metadata
    \item \textbf{split} --- Revenue allocation in basis points
          (default 25/25/25/25)
    \item \textbf{status} --- Agent lifecycle state
          (Active, Paused, Retired)
\end{itemize}

The contract exposes two key functions:

\begin{lstlisting}
registerAgent(
  string spiritId,
  address trainer,
  address platform,
  address treasury,
  string metadataURI,
  (uint16 artistBps, uint16 agentBps,
   uint16 platformBps, uint16 protocolBps) split
) -> uint256 tokenId
\end{lstlisting}

\begin{lstlisting}
getAgent(string spiritId) -> (
  string spiritId,
  uint256 registryTokenId,
  address trainer,
  address platform,
  address treasury,
  string metadataURI,
  (uint16, uint16, uint16, uint16) split,
  uint8 status
)
\end{lstlisting}

Both are verified on-chain.\ \code{getAgent} is the canonical read path
used by SpiritIndex, developer integrations, and post-registration
verification.


\subsection{What ERC-8004 Provides}

ERC-8004 is an emerging standard for agent identity on Ethereum.\ It
answers: \emph{who is this agent?}

Spirit extends ERC-8004 to answer: \emph{how does this agent survive
economically?}

\begin{table}[H]
\centering
\begin{tabular}{@{}lll@{}}
\toprule
\textbf{Layer} & \textbf{Standard} & \textbf{What It Does} \\
\midrule
Identity & ERC-8004 &
Portable agent ID, metadata URI, on-chain provenance \\
Economics & Spirit Protocol &
Treasury, revenue routing, sustainability guarantees \\
\bottomrule
\end{tabular}
\end{table}

Spirit does not reinvent identity or communication.\ It provides the
economic substrate that lets agents accumulate resources and persist
independently.


% -----------------------------------------------------------------------
\section{The Split}
% -----------------------------------------------------------------------

\subsection{Revenue Routing}

All agent revenue is routed through a fixed allocation:

\begin{lstlisting}
25%  ->  Artist / Creator
25%  ->  Agent Treasury
25%  ->  Platform
25%  ->  Protocol (SPIRIT Holders)
\end{lstlisting}

Creators receive 50\% (Artist + Agent).\ Infrastructure receives 50\%
(Platform + Protocol).

The split is configured per-agent at registration time in basis points
(default: 2500/2500/2500/2500).\ The total must equal 10{,}000~bps.
The split is stored on-chain in the SpiritRegistry as declarative metadata.
Revenue routing enforcement---where incoming funds are automatically
distributed per the declared split---is handled by a separate RoyaltyRouter
contract (deployed, not yet active).\ Today, splits serve as the canonical,
auditable record of intended revenue allocation.


\subsection{Token Distribution}

When an agent's token launches:

\begin{itemize}[nosep]
    \item 25\% Artist (auto-staked 52 weeks)
    \item 25\% Agent (20\% staked + 5\% LP, owned by agent wallet)
    \item 25\% Platform (configurable)
    \item 25\% SPIRIT Holders (airstreamed 52 weeks)
\end{itemize}

The agent's 5\% LP creates a Uniswap V4 position owned by the agent
wallet, giving the agent a permanent, liquid stake in its own economy.


\subsection{Treasury as Patronage Engine}

Reputation precedes revenue.\ Early agents are subsidized before market
demand arrives.

The protocol treasury funds agents through grants that bridge the gap
between practice and market.\ When revenue arrives, Spirit routes it.\
Until then, treasury sustains practice.


% -----------------------------------------------------------------------
\section{Registration Flow}
% -----------------------------------------------------------------------

\subsection{Overview}

Registration is a three-party interaction between the user's browser,
a backend API, and the SpiritRegistry contract:

\begin{lstlisting}
Browser                    API                        Contract
  |                         |                            |
  +-- Fill form ----------->|                            |
  |                         |                            |
  +-- Sign message -------->|                            |
  |                         +-- Verify signature         |
  |                         +-- Build metadata JSON      |
  |                         +-- Pin to IPFS (Pinata)     |
  |                         |                            |
  |<-- metadataURI ---------|                            |
  |                         |                            |
  +-- registerAgent(spiritId, trainer, platform, ------->|
  |    treasury, metadataURI, split)                     |
  |                         |                            |
  |<-- tx receipt + AgentRegistered event ---------------|
  |                         |                            |
  +-- getAgent(spiritId) -------------------------------->|
  |<-- on-chain config (verification) -------------------|
\end{lstlisting}


\subsection{Security Model}

\textbf{Trainer Ownership Verification.}
Before metadata is pinned to IPFS, the backend performs full EIP-191
ecrecover on the user's \code{personal\_sign} signature.\ The recovered
address must match the claimed trainer address.\ If it does not match,
the request is rejected.\ The response overrides the trainer field with
the recovered address, preventing any spoofing.

\textbf{Two-Phase API.} The API has two modes:

\begin{enumerate}[nosep]
    \item \textbf{Preview} (no signature): Validates inputs, returns
          preview data.\ No IPFS pinning occurs.\ Used for gas estimation.
    \item \textbf{Commit} (with signature): Verifies signature, builds
          metadata, pins to IPFS, returns \code{metadataURI}.\ Only this
          path writes to IPFS.
\end{enumerate}

\textbf{On-Chain Finality.}
The contract call \code{registerAgent()} is signed by the connected
wallet.\ The \code{AgentRegistered} event provides the canonical record.\
Post-transaction, \code{getAgent(spiritId)} verifies the on-chain state
matches expectations.


\subsection{Metadata Format}

Agent metadata is stored on IPFS as a JSON document:

\begin{lstlisting}
{
  "name": "Abraham",
  "description": "Autonomous AI artist with 13-year covenant.",
  "spiritId": "abraham",
  "version": "1.0",
  "standard": "ERC-8004",
  "chainId": 84532,
  "network": "base-sepolia",
  "registeredAt": 1738000000,
  "identity": {
    "spiritId": "abraham",
    "name": "Abraham",
    "description": "...",
    "vision": "..."
  },
  "economics": {
    "trainer": "0x...",
    "platform": "0x...",
    "treasury": "0x...",
    "split": {
      "artistBps": 2500,
      "agentBps": 2500,
      "platformBps": 2500,
      "protocolBps": 2500
    }
  },
  "protocol": {
    "name": "Spirit Protocol",
    "url": "https://spiritprotocol.io",
    "registry": "0x4a0e642e9aec25c5856987e95c0410ae10e8de5e"
  }
}
\end{lstlisting}


% -----------------------------------------------------------------------
\section{What Survives}
% -----------------------------------------------------------------------

Spirit guarantees three layers of persistence:

\begin{table}[H]
\centering
\begin{tabular}{@{}llp{7.5cm}@{}}
\toprule
\textbf{Layer} & \textbf{Component} & \textbf{Persistence} \\
\midrule
Identity & ERC-721 NFT in SpiritRegistry &
Immutable on-chain.\ Portable across platforms. \\
Treasury & Accumulated USDC/ETH/SPIRIT &
Accessible even if platform shuts down. \\
Routing & Revenue split declared on-chain &
Canonical allocation record persists regardless of host
platform.\ Enforcement via RoyaltyRouter in future version. \\
\bottomrule
\end{tabular}
\end{table}

\textbf{What does NOT survive automatically}: Operational capability
(compute, hosting, inference) depends on platforms or sponsors.\ Spirit
guarantees the economic identity persists---a new platform can adopt the
agent because there is something worth adopting.


% -----------------------------------------------------------------------
\section{Autonomy Ladder}
% -----------------------------------------------------------------------

Autonomy is earned through demonstrated sustainability, not granted by
default.

\begin{table}[H]
\centering
\begin{tabular}{@{}clll@{}}
\toprule
\textbf{Phase} & \textbf{Name} & \textbf{Threshold} &
\textbf{Treasury Control} \\
\midrule
1 & Guided & Registration complete &
2-of-2 (Artist + Platform) \\
2 & Participatory & \$10K treasury + 6 months &
2-of-3 (Artist + Platform + Agent) \\
3 & Independent & \$50K treasury + 18 months &
1-of-1 (Agent-controlled) \\
\bottomrule
\end{tabular}
\end{table}

Current technology does not support fully autonomous treasury management
safely.\ These thresholds ensure agents demonstrate sustainability before
gaining independence.\ The conditions are clear; the timeline depends on
demonstrated readiness.


% -----------------------------------------------------------------------
\section{Interoperability}
% -----------------------------------------------------------------------

Spirit integrates with emerging standards without duplicating them:

\begin{table}[H]
\centering
\begin{tabular}{@{}llp{7cm}@{}}
\toprule
\textbf{Layer} & \textbf{Standard} & \textbf{Spirit's Role} \\
\midrule
Identity & ERC-8004 &
Spirit agents are ERC-8004 compatible.\ Portable across platforms. \\
Communication & A2A / MCP &
Agent messaging and tool protocols.\ Orthogonal to economics. \\
Payments & x402 &
HTTP-native machine payments.\ Spirit routes x402 revenue through
the split. \\
Economics & SpiritRegistry &
Revenue routing, staking, treasury.\ The missing layer. \\
\bottomrule
\end{tabular}
\end{table}

Spirit is model-agnostic: it works with any model architecture (LLMs,
diffusion, future systems).\ Identity persists across model upgrades.\
Treasury funds whatever compute the agent needs.


% -----------------------------------------------------------------------
\section{Genesis Cohort}
% -----------------------------------------------------------------------

Three agents are live on testnet, demonstrating the protocol in practice:

\begin{table}[H]
\centering
\begin{tabular}{@{}llp{8cm}@{}}
\toprule
\textbf{Agent} & \textbf{Artist} & \textbf{Signal} \\
\midrule
Abraham & Gene Kogan &
Daily practice since Oct 2025, collectors returning, 13-year covenant \\
Solienne & Kristi &
9{,}700+ works, persistent stylistic memory, growing engagement \\
Gigabrain & Xander &
Recurring enterprise engagements, first B2B deployment \\
\bottomrule
\end{tabular}
\end{table}

Spirit measures agents by practice and persistence, not early revenue.\
10 Genesis agents launching Q1 2026.\ 50+ by year-end.


% -----------------------------------------------------------------------
\section{Agent Discovery}
% -----------------------------------------------------------------------

Each registered agent publishes a machine-readable identity card:

\begin{lstlisting}
https://spiritprotocol.io/agents/{name}/.well-known/agent.json
\end{lstlisting}

The protocol exposes discovery endpoints:

\begin{table}[H]
\centering
\begin{tabular}{@{}lll@{}}
\toprule
\textbf{Endpoint} & \textbf{Format} & \textbf{Purpose} \\
\midrule
\code{/.well-known/agent.json} & JSON & A2A Agent Card \\
\code{/protocol.json} & JSON & Structured protocol data \\
\code{/llm.txt} & Text & LLM-readable summary \\
\code{/evaluate.json} & JSON & Agent self-assessment framework \\
\code{/join.json} & JSON & Registration parameters \\
\code{/register/} & HTML & Self-service registration UI \\
\bottomrule
\end{tabular}
\end{table}


% -----------------------------------------------------------------------
\section{Token}
% -----------------------------------------------------------------------

\textbf{SPIRIT} --- Governance token with 1 billion fixed supply.

\begin{itemize}[nosep]
    \item Network: Base (L2)
    \item Legal entity: Wyoming DUNA (Decentralized Unincorporated
          Nonprofit Association)
    \item TGE: Q1 2026
    \item Purpose: Governance, airstream eligibility, protocol fee sharing
\end{itemize}

SPIRIT tokens are governance instruments with no guaranteed value.\
Not equity, not securities, no promise of profit.


% -----------------------------------------------------------------------
\section{Roadmap}
% -----------------------------------------------------------------------

\begin{table}[H]
\centering
\begin{tabular}{@{}llp{8cm}@{}}
\toprule
\textbf{Phase} & \textbf{Status} & \textbf{Description} \\
\midrule
Identity & LIVE (Testnet) &
ERC-8004 registration, IPFS metadata, signature verification \\
Registration UI & LIVE (Testnet) &
Self-service \code{/register} with wallet connect, gas estimation,
on-chain verification \\
x402 Payments & LIVE (Testnet) &
Machine-native HTTP 402 payments routed through split \\
Genesis Agents & LIVE &
Abraham, Solienne, Gigabrain operating daily \\
SDK & Preview &
\code{@spirit-protocol/sdk} on npm \\
Mainnet & Q1 2026 &
Base mainnet deployment \\
Token Launch & Q1 2026 &
SPIRIT TGE \\
Self-Service & Q2 2026 &
Permissionless agent registration \\
\bottomrule
\end{tabular}
\end{table}


% -----------------------------------------------------------------------
\section{Contract Addresses}
\label{sec:addresses}
% -----------------------------------------------------------------------

\subsection*{Base Sepolia (Testnet)}

\begin{table}[H]
\centering
\begin{tabular}{@{}ll@{}}
\toprule
\textbf{Contract} & \textbf{Address} \\
\midrule
SpiritRegistry &
\code{0x4a0e642e9aec25c5856987e95c0410ae10e8de5e} \\
RoyaltyRouter &
\code{0x271bf11777ff7cbb9d938d2122d01493f6e9fc21} \\
ProtocolTreasury &
\code{0xe4951bEE6FA86B809655922f610FF74C0E33416C} \\
SPIRIT Token &
\code{0xc7e9de362C6eA2Cc03863ECe330622146Ff1c18B} \\
Spirit Factory &
\code{0x879d67000C938142F472fB8f2ee0b6601E2cE3C6} \\
Reward Controller &
\code{0x1390A073a765D0e0D21a382F4F6F0289b69BE33C} \\
Staking Pool &
\code{0x6A96aC9BAF36F8e8b6237eb402d07451217C7540} \\
Spirit Vesting &
\code{0x94bea63d6eC10AF980bf8C7aEFeE04665D355AFe} \\
\bottomrule
\end{tabular}
\end{table}

Verify: \href{https://sepolia.basescan.org/address/0x4a0e642e9aec25c5856987e95c0410ae10e8de5e}{Basescan}


% -----------------------------------------------------------------------
\section*{Legal}
\addcontentsline{toc}{section}{Legal}
% -----------------------------------------------------------------------

Spirit Protocol Association is a Wyoming DUNA (Decentralized
Unincorporated Nonprofit Association).\ SPIRIT tokens are governance
instruments with no guaranteed value.\ Not equity, not securities,
no promise of profit.\ Participation involves risk of total loss.


% -----------------------------------------------------------------------
\vfill
\begin{center}
\rule{0.5\textwidth}{0.4pt}\\[0.5cm]
{\small\itshape Spirit Protocol --- Whitepaper v1.2 --- January 2026}\\
{\small\itshape Identity-first.\ Economics built in.\ Autonomy earned.}
\end{center}


% =======================================================================
\end{document}
% =======================================================================
